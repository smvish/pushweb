<!DOCTYPE html>
<html>

<head>

</head>

<body>
  <button onclick="subscribe()">subscribe</button>
  <script>
    addEventListener('load',async()=>{
      let sw = await navigator.serviceWorker.register('./sw.js')
      console.log(sw);
    })
    async function subscribe(){
      let sw = await navigator.serviceWorker.ready;
      let push = sw.pushManager.subscribe({
        userVisibleOnly:true,
        applicationServerKey:'BImZRyVQGkcVCK_O17KXzBLC1mDwWIRkI5dxxcEXpFtWmSpLyVRg39AX-EIwJ2my6Mf7I1Gn7rmCWK2dLdDSamM'
      })
      console.log(JSON.stringify(push));
    }
  </script>
</body>


</html>